#!/usr/bin/env bash

# Source paths
FILES="$XDG_CONFIG_HOME/files"
DIRS="$XDG_CONFIG_HOME/directories"

# Shortcut files paths
ZSH_SC="$XDG_CONFIG_HOME/zsh/aliases-auto"
VIM_SC="$XDG_CONFIG_HOME/nvim/shortcuts.vim"

# Document files
echo "# vim: filetype=zsh" > "$ZSH_SC"
echo "# This file has been created automatically." >> "$ZSH_SC"
echo "\" vim: filetype=vim" > "$VIM_SC"
echo "\" This file has been created automatically." >> "$VIM_SC"

[ -f "$FILES" ] && sed "s/\s*#.*$//;/^\s*$/d" "$FILES" | tee \
  >(awk '{print "alias " $1 "=\"$EDITOR " $2 "\""}' >> "$ZSH_SC") \
  |(awk '{print "nmap " $1 " :e " $2 "<CR>" }' >> "$VIM_SC")

[ -f "$DIRS" ] && sed "s/\s*#.*$//;/^\s*$/d" "$DIRS" | \
  awk '{print "alias " $1 "=\"cd " $2 " && ls\""}' >> "$ZSH_SC"
